# 可视化测试

本文件夹包含PDF分析和处理结果的可视化测试代码，用于生成图表和可视化报告。

## 文件说明

### `visualize_morphology_result.py`
可视化形态学处理结果，展示图像处理的效果和过程。

**功能**：
- 显示原始图像
- 展示形态学处理步骤
- 对比处理前后效果
- 生成可视化报告

**使用方法**：
```bash
python visualize_morphology_result.py
```

## 可视化功能

### 图像处理可视化
- 原始图像显示
- 预处理步骤展示
- 形态学操作效果
- 最终结果对比

### 特征分析可视化
- 特征分布图表
- 分类结果展示
- 相似性矩阵
- 聚类分析图表

### 检测结果可视化
- 检测区域标记
- 置信度热力图
- 错误分析图表
- 性能统计图表

### 数据统计可视化
- 统计分布图
- 趋势分析图表
- 对比分析图表
- 相关性分析图

## 可视化类型

### 静态图表
- 柱状图和饼图
- 折线图和散点图
- 热力图和等高线图
- 分布图和箱线图

### 交互式图表
- 可缩放图表
- 动态筛选图表
- 悬停信息显示
- 点击交互功能

### 复合图表
- 多子图组合
- 混合图表类型
- 分层信息展示
- 对比分析图表

## 输出格式

### 图像格式
- PNG格式（高质量）
- JPG格式（压缩）
- SVG格式（矢量）
- PDF格式（文档）

### 图表格式
- matplotlib图表
- plotly交互图表
- seaborn统计图表
- 自定义图表样式

### 报告格式
- HTML报告页面
- PDF报告文档
- 交互式仪表板
- 数据导出文件

## 配置参数

### 图像参数
- 图像分辨率设置
- 颜色方案配置
- 字体和标签设置
- 图例和标题配置

### 图表参数
- 图表大小设置
- 轴标签配置
- 网格线设置
- 颜色映射配置

### 输出参数
- 文件格式选择
- 保存路径设置
- 文件命名规则
- 压缩质量设置

## 依赖要求

### 核心库
- matplotlib（基础绘图）
- PIL/Pillow（图像处理）
- NumPy（数值计算）
- OpenCV（图像处理）

### 高级库
- seaborn（统计图表）
- plotly（交互图表）
- bokeh（Web图表）
- altair（声明式图表）

### 数据处理
- pandas（数据分析）
- scipy（科学计算）
- scikit-learn（机器学习）

## 使用示例

### 基础可视化
```python
import matplotlib.pyplot as plt
import numpy as np

# 创建简单图表
x = np.linspace(0, 10, 100)
y = np.sin(x)
plt.plot(x, y)
plt.title('Sine Wave')
plt.xlabel('X')
plt.ylabel('Y')
plt.show()
```

### 图像处理可视化
```python
import cv2
import matplotlib.pyplot as plt

# 读取图像
img = cv2.imread('image.jpg')
img_rgb = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)

# 显示图像
plt.imshow(img_rgb)
plt.title('Original Image')
plt.axis('off')
plt.show()
```

### 统计图表
```python
import seaborn as sns
import pandas as pd

# 创建统计图表
data = pd.DataFrame({'x': [1, 2, 3, 4], 'y': [10, 20, 15, 25]})
sns.barplot(data=data, x='x', y='y')
plt.title('Bar Chart')
plt.show()
```

## 最佳实践

### 图表设计
1. **简洁明了**：避免过度装饰
2. **颜色协调**：使用协调的颜色方案
3. **标签清晰**：确保所有标签清晰可读
4. **比例适当**：保持图表的适当比例

### 性能优化
1. **数据预处理**：在可视化前预处理数据
2. **缓存结果**：缓存重复的计算结果
3. **批量处理**：批量生成多个图表
4. **内存管理**：及时释放不需要的图像对象

### 错误处理
1. **数据验证**：验证输入数据的有效性
2. **异常捕获**：捕获和处理可视化错误
3. **降级处理**：在出错时提供降级方案
4. **日志记录**：记录可视化过程中的错误

## 注意事项

- 确保有足够的内存处理大型图像
- 注意图像格式的兼容性
- 保存重要结果时使用高质量格式
- 定期清理临时图像文件
- 监控磁盘空间使用情况

## 扩展功能

### 自定义样式
- 创建自定义颜色方案
- 定义标准图表样式
- 开发主题模板
- 构建样式库

### 自动化生成
- 批量生成图表
- 定时更新可视化
- 自动报告生成
- 邮件通知功能

### 集成功能
- Web界面集成
- API接口提供
- 数据库集成
- 云存储支持
