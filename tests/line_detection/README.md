# 线条检测测试

本文件夹包含线条检测算法的测试和改进代码。

## 文件说明

### `test_line_detection.py`
测试改进后的线条检测算法，验证三个改进点：
1. 调整检测阈值（从15%提高到80%）
2. 增加线条宽度验证
3. 改进形态学检测算法

**使用方法**：
```bash
python test_line_detection.py
```

### `analyze_mb9_lines.py`
分析mb9.png的线条分布，找出真实的长横线位置。

**功能**：
- 逐行分析黑色像素分布
- 识别潜在的长横线
- 按线条质量排序
- 生成可视化结果

**使用方法**：
```bash
python analyze_mb9_lines.py
```

### `analyze_correct_lines.py`
分析正确线条的检测结果，验证算法改进效果。

**功能**：
- 对比改进前后的检测结果
- 分析线条检测精度
- 生成对比报告

**使用方法**：
```bash
python analyze_correct_lines.py
```

### `enhance_mb10_lines.py`
增强mb10线条检测，优化检测算法。

**功能**：
- 改进线条检测算法
- 优化形态学操作
- 提高检测准确率

**使用方法**：
```bash
python enhance_mb10_lines.py
```

## 测试目的

这些测试脚本主要用于：

1. **验证算法改进**：确保线条检测算法的改进效果
2. **调试检测问题**：分析线条检测失败的原因
3. **优化检测参数**：找到最佳的检测阈值和参数
4. **对比检测效果**：比较不同算法的检测结果

## 依赖要求

- OpenCV (cv2)
- NumPy
- PIL (Pillow)
- matplotlib (部分脚本)

## 注意事项

- 运行测试前请确保templates文件夹中有相应的模板图片
- 部分测试会生成可视化结果图片
- 测试结果会输出到控制台，便于分析
